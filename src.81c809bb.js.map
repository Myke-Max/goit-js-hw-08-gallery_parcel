{"version":3,"sources":["src/gallery-items.js","src/gallery-hm.js","src/index.js"],"names":["preview","original","description","refs","gallery","document","querySelector","galleryItems","galleryLink","galleryImg","openModal","backdrop","modalImg","modalCloseBtn","galleryList","map","desciption","join","insertEl","insertAdjacentHTML","onImgClick","e","target","nodeName","preventDefault","classList","add","src","dataset","source","addEventListener","onCloseModal","onBackDropClose","window","onEscClose","onArrowClick","remove","code","currentTarget","currentImg","find","img","currentIndex","indexOf","length","alt","onlistenerClick"],"mappings":"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","file":"src.81c809bb.js","sourceRoot":"..","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\n","import galleryItems from \"./gallery-items.js\"\r\n const refs = {\r\n  gallery: document.querySelector('.js-gallery'),\r\n  galleryItems: document.querySelector('.gallery__item'),\r\n  galleryLink: document.querySelector('.gallery__link'),\r\n  galleryImg: document.querySelector('.gallery__image'),\r\n  openModal : document.querySelector ('.js-lightbox'),\r\n   backdrop: document.querySelector('.lightbox__overlay'),\r\n  modalImg : document.querySelector('.lightbox__image'),\r\n  modalCloseBtn : document.querySelector('.lightbox__button'),\r\n}\r\n\r\n const galleryList = galleryItems.map(({preview,original,desciption}) => {\r\n  return `<li class=\"gallery__item\">\r\n  <a class= \"gallery__link\"  href=${original}>\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=${preview}\r\n      data-source=${original}\r\n      alt=${desciption}\r\n    />\r\n  </a>\r\n</li>`\r\n}\r\n).join(' ')\r\n  \r\n export const insertEl = () =>  refs.gallery.insertAdjacentHTML('afterBegin', galleryList)\r\n\r\n const onImgClick = e => {\r\n  if (e.target.nodeName !== 'IMG') {\r\n    return\r\n  }\r\n  e.preventDefault()\r\n  refs.openModal.classList.add('is-open')\r\n  refs.modalImg.src = e.target.dataset.source\r\n  refs.modalCloseBtn.addEventListener('click', onCloseModal)\r\n  refs.backdrop.addEventListener('click', onBackDropClose)\r\n  window.addEventListener('keydown', onEscClose)\r\n  window.addEventListener('keydown',onArrowClick)\r\n}\r\n\r\n const onCloseModal =  () => {\r\n  refs.openModal.classList.remove('is-open')\r\n  refs.modalImg.src = \"\"\r\n}\r\n\r\n const onEscClose =  e => {\r\n  if (e.code === \"Escape\") {\r\n  onCloseModal()\r\n}\r\n}\r\n\r\n const onBackDropClose =  e => {\r\n  if (e.currentTarget === e.target) {\r\n    onCloseModal()\r\n  }\r\n}\r\n\r\n  const onArrowClick = e => {\r\n  if (e.code !== 'ArrowLeft' && e.code !== 'ArrowRight') {\r\n    return\r\n  }\r\n\r\n   const currentImg = galleryItems.find(img => img.original === refs.modalImg.src)\r\n  \r\n  let currentIndex =\r\n    e.code === 'ArrowLeft'\r\n      ? galleryItems.indexOf(currentImg) - 1\r\n      : galleryItems.indexOf(currentImg) + 1;\r\n  if (currentIndex < 0) {\r\n    currentIndex = galleryItems.length -1\r\n  }\r\n  if (currentIndex === galleryItems.length) {\r\n    currentIndex = 0\r\n  }\r\n  \r\n  refs.modalImg.src = galleryItems[currentIndex].original\r\n  refs.modalImg.alt = galleryItems[currentIndex].description\r\n}\r\n\r\n\r\n\r\n\r\nexport const onlistenerClick = () => refs.gallery.addEventListener('click', onImgClick)\r\n\r\n\r\n\r\n\r\n\r\n// const refs = {\r\n//   gallery: document.querySelector('.js-gallery'),\r\n//   galleryLink: document.querySelector('.gallery__link'),\r\n//   galleryImg: document.querySelector('.lightbox__image'),\r\n//   modal: document.querySelector('.js-lightbox'),\r\n//   modalCloseBtn: document.querySelector('.lightbox__button'),\r\n//   backdrop: document.querySelector('.lightbox__overlay')\r\n  \r\n// }\r\n\r\n// let defaultIndex;\r\n\r\n// const makeGalleryList = galleryItems.map((images, index) => {\r\n//   const { preview, original, description } = images\r\n  \r\n//     const createLi = document.createElement('li')\r\n//   createLi.classList.add('gallery__item')\r\n  \r\n//     const createA = document.createElement('a')\r\n//   createA.classList.add('gallery__link')\r\n//   createA.href = original\r\n  \r\n//     const createImg = document.createElement('img')\r\n//     createImg.classList.add('gallery__image')\r\n//       createImg.src = preview\r\n//       createImg.alt = description\r\n//       createImg.dataset.source = original\r\n//       createImg.dataset.index = index\r\n\r\n//       createA.appendChild(createImg)\r\n   \r\n//       createLi.appendChild(createA)\r\n    \r\n//    return createLi\r\n// })\r\n\r\n   \r\n// refs.gallery.append(...makeGalleryList)\r\n\r\n// function onGalleryClick(event) {\r\n//   event.preventDefault()\r\n//   if (event.target.nodeName !== 'IMG') {\r\n//    return\r\n//   }\r\n//   defaultIndex = Number(event.target.dataset.index)\r\n//   refs.modal.classList.add('is-open')\r\n//   refs.galleryImg.src = event.target.dataset.source\r\n//   refs.modalCloseBtn.addEventListener('click', onCloseModal)\r\n//   refs.backdrop.addEventListener('click', onBackDropClose)\r\n//   window.addEventListener('keydown',controlImageByArrow)\r\n\r\n// }\r\n// refs.gallery.addEventListener('click', onGalleryClick)\r\n\r\n// function onCloseModal() {\r\n//   refs.modal.classList.remove('is-open')\r\n//   refs.galleryImg.src = ''\r\n// }\r\n\r\n// function onBackDropClose(event) {\r\n//   if (event.currentTarget === event.target) {\r\n//     onCloseModal()\r\n//   }\r\n// }\r\n\r\n// function onEscapeClick(event) {\r\n//   if (event.code === 'Escape') {\r\n//     onCloseModal()\r\n//   }\r\n// }\r\n\r\n// function controlImageByArrow(event) {\r\n//   onEscapeClick(event)\r\n//   nextImg(event)\r\n//   prevImg (event)\r\n// }\r\n\r\n// function onNewImg() {\r\n//   const newIndex = galleryItems[defaultIndex].original;\r\n//   refs.galleryImg.src = newIndex;\r\n// }\r\n\r\n// function nextImg(event) {\r\n//   if (event.code === 'ArrowRight' && defaultIndex < galleryItems.length - 1) {\r\n//     defaultIndex += 1;\r\n//     onNewImg();\r\n//   }\r\n// }\r\n\r\n// function prevImg(event) {\r\n//   if (event.code === 'ArrowLeft' && defaultIndex > 0) {\r\n//     defaultIndex -= 1;\r\n//     onNewImg();\r\n//   }\r\n// }\r\n","import { insertEl, onlistenerClick } from \"./gallery-hm\"\r\ninsertEl()\r\nonlistenerClick()\r\n// import * as gallery from \"./gallery-hm\"\r\n// console.log(gallery)\r\n\r\n// gallery.insertEl()\r\n\r\n// gallery.onlistenerClick()"]}